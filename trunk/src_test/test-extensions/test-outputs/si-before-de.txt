Buildfile: build.xml

clean:
Deleting directory D:\dev\java\ES-SOD-2007-2008\2008-prototype\framework-extensions\stand-alone-flight\core\build
Deleting directory D:\dev\java\ES-SOD-2007-2008\2008-prototype\framework-extensions\stand-alone-flight\core\dist

init:
Created dir: D:\dev\java\ES-SOD-2007-2008\2008-prototype\framework-extensions\stand-alone-flight\core\build
Created dir: D:\dev\java\ES-SOD-2007-2008\2008-prototype\framework-extensions\stand-alone-flight\core\build\classes
Created dir: D:\dev\java\ES-SOD-2007-2008\2008-prototype\framework-extensions\stand-alone-flight\core\build\config
Created dir: D:\dev\java\ES-SOD-2007-2008\2008-prototype\framework-extensions\stand-alone-flight\core\dist

-init-console-app:

-config-init:
Copying 10 files to D:\dev\java\ES-SOD-2007-2008\2008-prototype\framework-extensions\stand-alone-flight\core\build\config

-config-replaces:
Replacing tokens in configuration files...

-replace-custom-tokens(dir):

-replace-core-tokens(dir):

-test-resources-dir:

-copy-resources-dir:
Copying 7 files to D:\dev\java\ES-SOD-2007-2008\2008-prototype\framework-extensions\stand-alone-flight\core\build\classes

-config-finish:

config:

-database-replaces:
Replacing tokens in resource files...

-replace-database-custom-tokens(dir):
Replacing tokens in resource files...

-replace-hibernate-custom-tokens(dir):

-replace-hibernate-tokens(dir):

-replace-database-tokens(dir):

build-database:
Copying 2 files to D:\dev\java\ES-SOD-2007-2008\2008-prototype\framework-extensions\stand-alone-flight\core\build\classes

init-library:

compile:
Compiling 12 source files to D:\dev\java\ES-SOD-2007-2008\2008-prototype\framework-extensions\stand-alone-flight\core\build\classes

create-jar:
Creating D:\dev\java\ES-SOD-2007-2008\2008-prototype\framework-extensions\stand-alone-flight\core\dist\flight-core.jar archive...
Building jar: D:\dev\java\ES-SOD-2007-2008\2008-prototype\framework-extensions\stand-alone-flight\core\dist\flight-core.jar

build-library:

build:

build-console-app:

-run:
Running the proto.flight.Main program...
Hello from flight
Executing service...
18:02:44,406 TRACE ServiceInterceptorManager:48 - entering interceptBefore()
18:02:44,421 TRACE ExtensionEngine:297 - Attempting automatic extension engine initialization
18:02:44,421 TRACE ExtensionEngine:232 - entering init
18:02:44,421 DEBUG ExtensionEngine:237 - load extension engine configuration from /extensions.properties
18:02:44,421 TRACE ExtensionEngine:318 - entering loadConfig
18:02:44,421 TRACE ExtensionEngine:320 - load extensions properties
18:02:44,421 TRACE ExtensionEngine:321 - /extensions.properties
18:02:44,421 TRACE ExtensionEngine:331 - extensions config properties (key: 'value')
18:02:44,421 TRACE ExtensionEngine:335 - extensions.enabled: 'true'
18:02:44,421 TRACE ExtensionEngine:335 - extensions.intercept.service[]: 'hi,exception-thrower,ola'
18:02:44,421 TRACE ExtensionEngine:335 - extensions.list: 'hi,ola,exception-thrower'
18:02:44,421 DEBUG ExtensionEngine:369 - load configuration for each extension
18:02:44,437 TRACE Extension:229 - entering loadConfig
18:02:44,437 TRACE Extension:235 - load hi extension properties from /extension-hi.properties
18:02:44,437 TRACE Extension:250 - extension hi config properties (key: 'value')
18:02:44,437 TRACE Extension:254 - extension.service-interceptor: 'extension.hello.HelloServiceInterceptor'
18:02:44,437 TRACE Extension:254 - greeting: 'Hi'
18:02:44,437 TRACE Extension:254 - extension.listener: 'extension.hello.HelloExtensionListener'
18:02:44,437 TRACE Extension:254 - extension.enabled: 'true'
18:02:44,437 TRACE Extension:290 - remove extension hi properties and keep the remaining ones as additional configuration
18:02:44,437 TRACE Extension:301 - finally exiting loadConfig
18:02:44,437 TRACE Extension:229 - entering loadConfig
18:02:44,437 TRACE Extension:235 - load ola extension properties from /extension-ola.properties
18:02:44,437 TRACE Extension:250 - extension ola config properties (key: 'value')
18:02:44,437 TRACE Extension:254 - extension.service-interceptor: 'extension.hello.HelloServiceInterceptor'
18:02:44,437 TRACE Extension:254 - greeting: 'Olá'
18:02:44,437 TRACE Extension:254 - extension.listener: 'extension.hello.HelloExtensionListener'
18:02:44,437 TRACE Extension:254 - extension.enabled: 'true'
18:02:44,437 TRACE Extension:290 - remove extension ola properties and keep the remaining ones as additional configuration
18:02:44,437 TRACE Extension:301 - finally exiting loadConfig
18:02:44,437 TRACE Extension:229 - entering loadConfig
18:02:44,437 TRACE Extension:235 - load exception-thrower extension properties from /extension-exception-thrower.properties
18:02:44,437 TRACE Extension:250 - extension exception-thrower config properties (key: 'value')
18:02:44,437 TRACE Extension:254 - extension.web-service-interceptor: 'extension.exception.ThrowExceptionWebServiceInterceptor'
18:02:44,437 TRACE Extension:254 - extension.enabled: 'true'
18:02:44,437 TRACE Extension:254 - extension.listener: 'extension.exception.ThrowExceptionExtensionListener'
18:02:44,437 TRACE Extension:254 - listener.initialized.throw: ''
18:02:44,437 TRACE Extension:254 - web-service-interceptor.throw: ''
18:02:44,437 TRACE Extension:254 - listener.destroyed.throw: ''
18:02:44,437 TRACE Extension:254 - service-interceptor.before.throw: 'proto.flight.exception.NoFlightAvailableForReservationException'
18:02:44,437 TRACE Extension:254 - service-interceptor.after.throw: ''
18:02:44,437 TRACE Extension:254 - web-service-interceptor.throw.situation: ''
18:02:44,437 TRACE Extension:254 - extension.service-interceptor: 'extension.exception.ThrowExceptionServiceInterceptor'
18:02:44,437 TRACE Extension:290 - remove extension exception-thrower properties and keep the remaining ones as additional configuration
18:02:44,437 TRACE Extension:301 - finally exiting loadConfig
18:02:44,437 TRACE ExtensionEngine:377 - load intercept configs
18:02:44,437 TRACE ExtensionEngine:381 - Intercept configuration trees:
18:02:44,453 TRACE ExtensionEngine:382 - Configuration tree Service interception
root [ConfigNode: config=[InterceptConfigData: extensionList={[Extension: id=hi, enabled=true], [Extension: id=exception-thrower, enabled=true], [Extension: id=ola, enabled=true]} ], #childNodes=0]

18:02:44,453 TRACE ExtensionEngine:383 - Configuration tree Web Service interception
root [ConfigNode: config=null, #childNodes=0]

18:02:44,453 TRACE ExtensionEngine:387 - remove extensions properties and keep the remaining ones as additional configuration
18:02:44,453 TRACE ExtensionEngine:392 - finally exiting loadConfig
18:02:44,453 DEBUG ExtensionEngine:240 - extension engine configuration loaded successfully
18:02:44,453 DEBUG ExtensionEngine:259 - start extensions
18:02:44,453 TRACE Extension:319 - entering start
18:02:44,453 TRACE Extension:399 - load service interceptor class
18:02:44,453 TRACE Extension:418 - create service interceptor instance
18:02:44,453 TRACE Extension:365 - skipping web service interceptor class loading
18:02:44,453 TRACE Extension:399 - load listener class
18:02:44,453 TRACE Extension:418 - create listener instance
18:02:44,453 TRACE Extension:500 - invoke listener on EXTENSION_INITIALIZED
Using custom greeting: Hi
Hi from HelloExtensionListener.extensionInitialized
18:02:44,453  INFO Extension:342 - Extension hi enabled
18:02:44,453 TRACE Extension:345 - finally exiting start
18:02:44,453 TRACE Extension:319 - entering start
18:02:44,453 TRACE Extension:399 - load service interceptor class
18:02:44,453 TRACE Extension:418 - create service interceptor instance
18:02:44,453 TRACE Extension:365 - skipping web service interceptor class loading
18:02:44,468 TRACE Extension:399 - load listener class
18:02:44,468 TRACE Extension:418 - create listener instance
18:02:44,468 TRACE Extension:500 - invoke listener on EXTENSION_INITIALIZED
Using custom greeting: Olá
Olá from HelloExtensionListener.extensionInitialized
18:02:44,468  INFO Extension:342 - Extension ola enabled
18:02:44,468 TRACE Extension:345 - finally exiting start
18:02:44,468 TRACE Extension:319 - entering start
18:02:44,468 TRACE Extension:399 - load service interceptor class
18:02:44,468 TRACE Extension:418 - create service interceptor instance
18:02:44,468 TRACE Extension:399 - load web service interceptor class
18:02:44,468 TRACE Extension:418 - create web service interceptor instance
18:02:44,468 TRACE Extension:399 - load listener class
18:02:44,468 TRACE Extension:418 - create listener instance
18:02:44,468 TRACE Extension:500 - invoke listener on EXTENSION_INITIALIZED
18:02:44,468  INFO Extension:342 - Extension exception-thrower enabled
18:02:44,468 TRACE Extension:345 - finally exiting start
18:02:44,468 DEBUG ExtensionEngine:265 - extensions started successfully
18:02:44,468  INFO ExtensionEngine:281 - Extension engine enabled
18:02:44,468 TRACE ExtensionEngine:284 - set init flag
18:02:44,468 TRACE ExtensionEngine:287 - finally exiting init
18:02:44,468 TRACE ExtensionEngine:299 - Automatic extension engine initialization successful!
18:02:44,468 TRACE ServiceInterceptorManager:98 - service instance full class name: proto.flight.service.CreateFlightReservationService
18:02:44,468 TRACE ServiceInterceptorManager:104 - Using configuration tree: Service interception
18:02:44,468 TRACE ServiceInterceptorManager:123 - Service interception config data: [InterceptConfigData: extensionList={[Extension: id=hi, enabled=true, listener=extension.hello.HelloExtensionListener, service-interceptor=extension.hello.HelloServiceInterceptor], [Extension: id=exception-thrower, enabled=true, listener=extension.exception.ThrowExceptionExtensionListener, service-interceptor=extension.exception.ThrowExceptionServiceInterceptor, web-service-interceptor=extension.exception.ThrowExceptionWebServiceInterceptor], [Extension: id=ola, enabled=true, listener=extension.hello.HelloExtensionListener, service-interceptor=extension.hello.HelloServiceInterceptor]} ]
18:02:44,468 DEBUG ServiceInterceptorManager:137 - Intercepting service proto.flight.service.CreateFlightReservationService BEFORE its execution
18:02:44,468 DEBUG ServiceInterceptorManager:161 - Invoking hi extension
18:02:44,468 TRACE ServiceInterceptorManager:164 - create service interceptor instance
18:02:44,468 TRACE Extension:418 - create service interceptor instance
18:02:44,468 TRACE ServiceInterceptorManager:167 - create service interceptor parameter instance
18:02:44,468 TRACE ServiceInterceptorManager:171 - call service interceptor
Hi from HelloServiceInterceptor.interceptBefore
18:02:44,468 DEBUG ServiceInterceptorManager:161 - Invoking exception-thrower extension
18:02:44,468 TRACE ServiceInterceptorManager:164 - create service interceptor instance
18:02:44,468 TRACE Extension:418 - create service interceptor instance
18:02:44,468 TRACE ServiceInterceptorManager:167 - create service interceptor parameter instance
18:02:44,468 TRACE ServiceInterceptorManager:171 - call service interceptor
ThrowExceptionExtensionUtil> throwing an instance of proto.flight.exception.NoFlightAvailableForReservationException in method before
18:02:44,468 DEBUG ServiceInterceptorManager:254 - service interceptor has thrown a domain exception
18:02:44,468 DEBUG ServiceInterceptorManager:255 - proto.flight.exception.NoFlightAvailableForReservationException: ThrowExceptionExtensionUtil generated exception in method before
18:02:44,468 TRACE ServiceInterceptorManager:256 - domain exception details
proto.flight.exception.NoFlightAvailableForReservationException: ThrowExceptionExtensionUtil generated exception in method before
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:494)
	at extension.exception.ThrowExceptionExtensionUtil.throwException(ThrowExceptionExtensionUtil.java:22)
	at extension.exception.ThrowExceptionServiceInterceptor.interceptBefore(ThrowExceptionServiceInterceptor.java:25)
	at framework.extensions.ServiceInterceptorManager.interceptBefore(ServiceInterceptorManager.java:172)
	at framework.extensions.ServiceInterceptorManager.interceptBeforeService(ServiceInterceptorManager.java:51)
	at framework.service.Service.before(Service.java:71)
	at framework.service.Service.execute(Service.java:50)
	at proto.flight.Main.main(Main.java:20)
18:02:44,484 TRACE ServiceInterceptorManager:257 - rethrowing
18:02:44,484 TRACE ServiceInterceptorManager:54 - finally exiting interceptBefore()
Exception in thread "main" proto.flight.exception.NoFlightAvailableForReservationException: ThrowExceptionExtensionUtil generated exception in method before
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:494)
	at extension.exception.ThrowExceptionExtensionUtil.throwException(ThrowExceptionExtensionUtil.java:22)
	at extension.exception.ThrowExceptionServiceInterceptor.interceptBefore(ThrowExceptionServiceInterceptor.java:25)
	at framework.extensions.ServiceInterceptorManager.interceptBefore(ServiceInterceptorManager.java:172)
	at framework.extensions.ServiceInterceptorManager.interceptBeforeService(ServiceInterceptorManager.java:51)
	at framework.service.Service.before(Service.java:71)
	at framework.service.Service.execute(Service.java:50)
	at proto.flight.Main.main(Main.java:20)

run:

BUILD SUCCESSFUL
Total time: 5 seconds
